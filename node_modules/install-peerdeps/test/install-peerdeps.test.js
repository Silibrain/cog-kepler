"use strict";

var _tape = require("tape");

var _tape2 = _interopRequireDefault(_tape);

var _installPeerdeps = require("./install-peerdeps");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(0, _tape2.default)("gets the package data from the registry correctly", function (t) {
  // Only one async operation will run
  t.plan(1);
  var encodedPackageName = (0, _installPeerdeps.encodePackageName)("eslint-config-airbnb");
  (0, _installPeerdeps.getPackageData)({
    encodedPackageName: encodedPackageName,
    registry: "https://registry.npmjs.com"
  }).then(function (packageData) {
    t.equal(packageData.name, "eslint-config-airbnb");
    t.end();
  }, t.fail);
});